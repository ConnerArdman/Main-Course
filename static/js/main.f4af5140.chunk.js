(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(317)},123:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(39),r=a.n(i),o=a(10),s=a(11),c=a(13),u=a(12),h=a(14),d=(a(123),a(112)),m=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.id,n=e.min,i=e.max,r=e.defaultValue,o=e.aria,s=e.inputChange,c=e.value,u=this.state.collapsed,h=u?" rotated":"";return l.a.createElement("div",null,t?l.a.createElement("h3",{className:"chevron"+h,onClick:this.collapse.bind(this)},t):null,u?null:l.a.createElement("div",null,l.a.createElement("label",{htmlFor:a},c,this.pluralize(c)),l.a.createElement("input",{"aria-label":null!=o?o:this.removeDash(a),type:"range",min:n,max:i,defaultValue:r,className:"slider",id:a,onChange:s})))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}},{key:"removeDash",value:function(e){return e.replace(/-/g," ")}},{key:"pluralize",value:function(e){var t=this.props,a=t.unit,n=t.shouldPlural;return e>1&&n?a+"s":a}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.masterUnits,a=e.sliderPropsArray,n=e.masterValue,i=e.title,r=this.state.collapsed,o=r?" rotated":"";return l.a.createElement("div",null,l.a.createElement("h3",{className:"chevron"+o,onClick:this.collapse.bind(this)},i),l.a.createElement("div",{className:r?"hidden":null},l.a.createElement("label",null,"(",n," ",t,")"),a.map(function(e,t){var a=e.id,n=e.unit,i=e.min,r=e.max,o=e.defaultValue,s=e.aria,c=e.value,u=e.inputChange;return l.a.createElement(m,{key:t,id:a,unit:n,min:i,max:r,defaultValue:o,aria:s,value:c,inputChange:u})})))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.checkBoxes,n=e.change,i=this.state.collapsed,r=i?" rotated":"";return l.a.createElement("div",null,l.a.createElement("h3",{className:"chevron"+r,onClick:this.collapse.bind(this)},t),l.a.createElement("div",{className:i?"hidden":null},a.map(function(e,t){var a=e.toLowerCase();return l.a.createElement("div",{className:"check-group",key:t},l.a.createElement("input",{type:"checkbox",id:a,defaultValue:a,onChange:n}),l.a.createElement("label",{htmlFor:a},e))})))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),b=a(318),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={meals:3,cookTime:15,carbs:206,protein:146,fat:67,restrictions:new Set},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.meals,a=e.cookTime,n=e.carbs,i=e.protein,r=e.fat;return l.a.createElement("section",{id:"filters"},l.a.createElement("h1",null,"Custom Filters"),l.a.createElement(m,{className:"control-option",name:"Meals Per Day",id:"meals",unit:" Meal",min:"1",max:"7",defaultValue:"3",inputChange:this.inputChange.bind(this),value:t,shouldPlural:!0}),l.a.createElement(m,{className:"control-option",name:"Max Cook Time Per Meal",id:"cookTime",unit:" Minute",min:"5",max:"120",defaultValue:"15",inputChange:this.inputChange.bind(this),value:a,shouldPlural:!0}),l.a.createElement(p,{className:"control-option",masterUnits:"Calories",masterValue:this.calcCalories(),title:"Daily Macronutrients",sliderPropsArray:[{aria:"Carbohydrates Per Meal",id:"carbs",unit:"g carbs",min:"25",max:"400",defaultValue:"206",value:n,inputChange:this.inputChange.bind(this)},{aria:"Protein Per Meal",id:"protein",unit:"g protein",min:"25",max:"400",defaultValue:"146",value:i,inputChange:this.inputChange.bind(this)},{aria:"Fat Per Meal",id:"fat",unit:"g fat",min:"5",max:"200",defaultValue:"67",value:r,inputChange:this.inputChange.bind(this)}]}),l.a.createElement(f,{className:"control-option",checkBoxes:["vegan","vegetarian"],title:"Dietary Restrictions",change:this.addRestriction.bind(this)}),l.a.createElement(b.a,{bsStyle:"primary",bsSize:"large",type:"button",onClick:this.generateRecipes.bind(this)},"Generate Recipes"))}},{key:"generateRecipes",value:function(){var e=this.state,t=e.meals,a=e.cookTime,n=e.carbs,l=e.protein,i=e.fat,r=e.restrictions;(0,this.props.fetchQueries)({numMeals:t,calories:this.calcCalories(),maxCookTime:a,carbs:n,protein:l,fat:i,restrictions:Array.from(r)})}},{key:"inputChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(d.a)({},a,n))}},{key:"addRestriction",value:function(e){var t=e.target.value;this.setState(function(e){var a=e.restrictions;return a.has(t)?a.delete(t):a.add(t),{restrictions:a}})}},{key:"calcCalories",value:function(){var e=this.state,t=e.fat,a=e.carbs,n=e.protein;return t*I.get("fat")+n*I.get("protein")+a*I.get("carbs")}}]),t}(n.Component),g=a(115),E=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.hidden,t=this.props.hit.recipe,a=t.totalNutrients,n=t.calories,i=this.props.hit.recipe.yield,r=Math.round(a.PROCNT.quantity),o=Math.round(a.CHOCDF.quantity),s=Math.round(a.FAT.quantity),c={datasets:[{data:[r*I.get("protein"),o*I.get("carbs"),s*I.get("fat")],backgroundColor:["red","green","blue"]}],labels:["Protein Cals","Carbs Cals","Fat Cals"]};return l.a.createElement("div",{className:e?"hidden":""},l.a.createElement("div",{className:"chart"},l.a.createElement(g.a,{data:c,options:{responsive:!0,maintainAspectRatio:!1}}),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("strong",null,"Servings:"),"\xa0",i),l.a.createElement("li",null,l.a.createElement("strong",null,"Calories:"),"\xa0",Math.round(n)),l.a.createElement("li",null,l.a.createElement("strong",null,"Protein:"),"\xa0",r+"g"),l.a.createElement("li",null,l.a.createElement("strong",null,"carbs:"),"\xa0",o+"g"),l.a.createElement("li",null,l.a.createElement("strong",null,"fat:"),"\xa0",s+"g"))))}}]),t}(n.Component),y=a(322),k=a(315),C=a(319),O=a(320),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!1,loaded:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},0)}},{key:"render",value:function(){var e=this.props.hit,t=e.recipe,a=t.label,n=t.image,i=t.ingredientLines,r=t.url,o=t.source,s=this.state,c=s.collapsed,u=s.loaded?" loaded":"";return l.a.createElement(y.a,{id:"collapsible-panel-example-2",defaultExpanded:!1,className:"recipe"+u},l.a.createElement(y.a.Heading,null,l.a.createElement(y.a.Title,{toggle:!0},a),l.a.createElement("div",{role:"button",className:"del",onClick:this.del.bind(this)},"X")),l.a.createElement(y.a.Collapse,null,l.a.createElement(y.a.Body,null,l.a.createElement(k.a,{fluid:!0},l.a.createElement(C.a,{className:"show-grid",id:"grid"},l.a.createElement(O.a,{xs:12,md:6},l.a.createElement("img",{src:n,alt:a,className:c?"hidden":null})),l.a.createElement(O.a,{xs:12,md:6},l.a.createElement("div",{className:"pieContainer"},l.a.createElement(E,{hit:e,hidden:!!c})))))),l.a.createElement(y.a.Footer,null,l.a.createElement("h1",{className:c?"hidden":null},l.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},"Full Recipe From "+o)),l.a.createElement("ul",{className:c?"hidden":null},i.map(function(e,t){return l.a.createElement("li",{key:t},e)})))))}},{key:"del",value:function(){var e=this;this.setState({loaded:!1}),setTimeout(function(){e.props.deleteRecipe(),e.setState({loaded:!0})},1e3)}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),w=a(75),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!1,loaded:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},0)}},{key:"render",value:function(){var e=this.props.hits,t=[];e.forEach(function(e){t=Object(w.a)(t).concat(Object(w.a)(e.recipe.ingredientLines))});var a=this.state,n=a.collapsed,i=a.loaded?" loaded":"";return l.a.createElement(y.a,{id:"collapsible-panel-example-2",defaultExpanded:!1,className:"recipe"+i},l.a.createElement(y.a.Heading,null,l.a.createElement(y.a.Title,{toggle:!0},"Shopping List")),l.a.createElement(y.a.Collapse,null,l.a.createElement(y.a.Body,null,l.a.createElement("ul",{className:n?"hidden":null},t.map(function(e,t){return l.a.createElement("li",{key:t},e)})))))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),S=a(74),x=a.n(S),A=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hits,a=e.deleteRecipe,n=e.loading,i=0!==t.length;return l.a.createElement("section",{id:"recipes"},l.a.createElement("h1",null,"Your Custom Meal Plan"),l.a.createElement("div",{id:"plan-container",className:i?null:"hidden"},n?l.a.createElement("div",null,l.a.createElement(x.a,{id:"loading",type:"spin",color:"Black",height:150,width:150}),l.a.createElement("div",{class:"push"}),l.a.createElement("div",{class:"push"})):l.a.createElement("div",null,l.a.createElement(N,{hits:t}),t.map(function(e,t){return l.a.createElement(j,{hit:e,key:t,deleteRecipe:function(){return a(t)}})}))),l.a.createElement("p",{id:"plan-placeholder",className:i?"hidden":null},n?l.a.createElement(x.a,{id:"loading",type:"spin",color:"Black",height:150,width:150}):l.a.createElement("p",null,"Meal plan will appear here once it is created!"),l.a.createElement("div",{class:"push"}),l.a.createElement("div",{class:"push"})))}}]),t}(n.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"col",id:"about-page"},l.a.createElement("div",null,l.a.createElement("h1",null,"About Cook Healthy"),l.a.createElement("p",null,"The original idea here was to create an application that would somehow make the lives of students easier. As a student myself, I found that I was constantly eating out, because I was running out of ideas of what to make. As a result, I was spending more money than I wanted to on food. To solve this problem, I created Cook Healhty, an application to help create a",l.a.createElement("strong",null," cheap daily meal plan"),". The idea is pretty simple, you can add filters based on nutritional goals, and Cook Healthy will automatically create a customized plan with recipes and a weekly shopping cart to bring to the grocery story.")),l.a.createElement("div",null,l.a.createElement("h2",null,"Some Limitations"),l.a.createElement("p",null,"The orginal goal here was to allow a budget to be part of the filters, and to provide an entire weeks worth of recipes. Additionally, the original wireframe contained a few more filters. Unfortunately, limitations of the API are preventing this currently. There is a great deal of rate limiting happening from the API, preventing the site from gathering all of the information it needs. Additionally, I wanted to show the actual recipe on the screen, but this is another limitation of the free version of this API.")),l.a.createElement("div",null,l.a.createElement("h2",null,"About The Development"),l.a.createElement("p",null,"For this site, I chose to utlize the Less CSS extension, as it allowed me to create simple variables that control the look and feel of the site. Changing any of the variables at the top of the Less file should substantially change the look of the site. Additionally, I built this initial version with a mobile first approach, meaning all of the default styles are for smaller devices. That said, the CSS should scale nicely on a larger screen in a multi-column format."),l.a.createElement("p",null,"In addition to the CSS, I wrote some basic JavaScript functions to add to the aesthetic and usability of the page. These functions are listening for the screen size to change, in order to change the logic for expanding and compressing the filters section. Additionally, this JavaScript serves to keep track of the changes made on the sliders and display them to the user. As a note, Chrome's mobile simulator blocks these sliders, but they work perfectly on",l.a.createElement("a",{href:"https://caniuse.com/#search=range",target:"_blank",rel:"noopener noreferrer"},"most mobile devices."))))}}]),t}(n.Component),R=(a(316),a(323)),M=a(324),P=a(321),I=new Map([["carbs",4],["fat",9],["protein",4]]),F=.2;function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;e=parseInt(e);var a=Math.round(e*t),n=e+a;return"".concat(e-a,"-").concat(n)}function D(e){return e.status>=200&&e.status<300||0===e.status?e.json():Promise.reject(new Error(e.status+": "+e.statusText))}var V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={extraRecipes:[],loading:!1,about:!1,hits:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.hits,a=e.loading,i=e.about;return l.a.createElement(n.Fragment,null,l.a.createElement(R.a,{inverse:!0,collapseOnSelect:!0,fixedTop:!0,fluid:!0},l.a.createElement(R.a.Header,null,l.a.createElement(R.a.Brand,null,l.a.createElement("a",{href:"#",onClick:this.returnHome.bind(this)},"Cook Healthy")),l.a.createElement(R.a.Toggle,null)),l.a.createElement(R.a.Collapse,null,l.a.createElement(M.a,null,l.a.createElement(P.a,{eventKey:1,href:"#",onClick:this.returnHome.bind(this)},i?"Home":l.a.createElement("strong",null,"Home"))),l.a.createElement(M.a,null,l.a.createElement(P.a,{eventKey:1,href:"#",onClick:this.gotoAbout.bind(this)},i?l.a.createElement("strong",null,"About"):"About")))),l.a.createElement("div",{className:"push"}),i?l.a.createElement("div",{className:"col-container",id:"appContainer"},l.a.createElement(T,null)):l.a.createElement("div",{className:"col-container",id:"appContainer"},l.a.createElement("div",{className:"col col1",id:"filterContainer"},l.a.createElement(v,{fetchQueries:this.fetchQueries.bind(this)})),a?l.a.createElement("div",{className:"col col2 loading",id:"recipeContainer"},l.a.createElement(A,{hits:t,deleteRecipe:this.deleteRecipe.bind(this),loading:a})):l.a.createElement("div",{className:"col col2",id:"recipeContainer"},l.a.createElement(A,{hits:t,deleteRecipe:this.deleteRecipe.bind(this),loading:a}))),l.a.createElement("footer",{className:"footer"},l.a.createElement("p",null,l.a.createElement("a",{href:"mailto:ardmanc@uw.edu"},"Conner Ardman, Ian Wohlers")," \xa9 2018 |\xa0",l.a.createElement("a",{href:"#",onClick:this.toggleAbout.bind(this)},i?"Home ":"About "),"| Data From ",l.a.createElement("a",{href:"https://www.edamam.com"},"api.edamam.com"))))}},{key:"toggleAbout",value:function(){this.setState(function(e){return{about:!e.about}})}},{key:"returnHome",value:function(){this.setState(function(e){return{about:!1}})}},{key:"gotoAbout",value:function(){this.setState(function(e){return{about:!0}})}},{key:"fetchQueries",value:function(e){var t=this;this.setState({loading:!0}),fetch(this.getAPIQuery(e)).then(D).then(function(a){return t.parseRecipes(a,e)})}},{key:"getAPIQuery",value:function(e){var t=e.numMeals,a=e.maxCookTime,n=e.carbs,l=e.protein,i=e.fat,r=e.restrictions,o="".concat("https://api.edamam.com/search?app_id=4fba7f21&app_key=015209fd4e63d9db67f22a621a26ea4a","&q=").concat("","&to=").concat(100,"&time=").concat(a)+"&nutrients%5BCHOCDF%5D=".concat(H(n/t),"&nutrients%5BFAT%5D=")+"".concat(H(i/t),"&nutrients%5BPROCNT%5D=").concat(H(l/t));return r.length>0&&(o+="&health=".concat(r[0])),o}},{key:"parseRecipes",value:function(e,t){var a=e.hits,n=t.numMeals,l=t.restrictions;a=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}return e}(a),l.length>1&&(a=a.filter(function(e){var t=e.recipe.healthLabels,a=!0,n=!1,i=void 0;try{for(var r,o=l[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var s=r.value;if(!t.includes(s))return!1}}catch(c){n=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return!0})),0===a.length||this.showRecipes(a,n)}},{key:"showRecipes",value:function(e,t){this.setState({extraRecipes:e.slice(t),hits:e.slice(0,t),loading:!1})}},{key:"deleteRecipe",value:function(e){this.setState(function(t){var a=t.extraRecipes,n=t.hits;return n[e]=a.pop(),{extraRecipes:a,hits:n}})}}]),t}(n.Component);r.a.render(l.a.createElement(V,null),document.getElementById("root"))}},[[118,2,1]]]);
//# sourceMappingURL=main.f4af5140.chunk.js.map