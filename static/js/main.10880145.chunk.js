(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{220:function(e,t,a){e.exports=a(479)},479:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),s=a.n(r),i=a(12),c=a(13),o=a(16),u=a(14),d=a(15),m=a(64),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value,l={};l[t]=n,a.setState(l)},a.handleSignUp=function(e){e.preventDefault(),a.props.signUpCallback(a.state.email,a.state.password)},a.handleSignIn=function(e){e.preventDefault(),a.props.signInCallback(a.state.email,a.state.password)},a.state={email:void 0,password:void 0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{className:"form-control",id:"email",type:"email",name:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{className:"form-control",id:"password",type:"password",name:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSignUp},"Sign-up"),l.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSignIn},"Sign-in"))))}}]),t}(n.Component),p=a(492),f=a(484),b=a(109),v=a(482),g=a(489),E=a(491),k=a(494),y=a(69),C=(a(90),a(91),a(92),a(93),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).deleteMeal=function(){a.props.deleteMeal(a.props.meal)},a.handleClick=function(){a.props.openMeal(a.props.meal)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.meal;return l.a.createElement(k.a,{className:"meal"},l.a.createElement(k.a,{className:"clickable",onClick:this.handleClick},l.a.createElement("div",{className:"thumbnail"},l.a.createElement("img",{className:"pic",src:e.image,alt:e.label})),l.a.createElement("div",{className:"mealName"},e.label)),l.a.createElement("div",{className:"delete"},l.a.createElement(v.a,{placement:"left",title:"Are you sure you want to delete this meal?",onConfirm:this.deleteMeal,okText:"Yes",cancelText:"No"},l.a.createElement(y.a,{className:"deleteBtn",type:"delete"}))))}}]),t}(n.Component)),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).renderMeals=function(){var e=a.props.meals;return l.a.createElement("div",null,e&&e.map(function(e){return e.deleted?l.a.createElement("div",{key:e.mealName,className:"hidden"}):l.a.createElement(C,{key:e.label,meal:e,deleteMeal:a.props.deleteMeal,openMeal:a.props.openMeal})}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"mealList"},this.renderMeals())}}]),t}(n.Component),w=a(483),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setScheduleFromCache=function(){if(null!==window.localStorage.getItem("schedule")){var e=JSON.parse(window.localStorage.getItem("schedule"));a.setState({schedule:e})}},a.openMeal=function(e){a.setState({openMeal:e})},a.openModal=function(){a.setState({visible:!0})},a.closeModal=function(){a.setState({visible:!1,openMeal:null})},a.getCellData=function(e){var t=a.props.schedule[e.format("MMDDYY")],n=[];return t&&t.forEach(function(e){e.deleted||n.push({type:"normal",content:e.label})}),n},a.dateCellRender=function(e){var t=a.getCellData(e);if(!a.props.broken)return l.a.createElement("ul",{className:"events"},t.map(function(e){return l.a.createElement("li",{key:e.content},l.a.createElement("span",{className:"event-".concat(e.type)},"\u25cf"),e.content)}))},a.deleteMeal=function(e){var t=a.props.schedule[a.props.currentDate.format("MMDDYY")];t.find(function(t){return t.label===e.label}).deleted=!0,a.props.updateSchedule(t)},a.renderModal=function(){var e=a.state.openMeal;return e?l.a.createElement("div",{className:"modalContent"},l.a.createElement("div",{className:"modalButtons"},l.a.createElement(b.a,{className:"back",type:"primary",onClick:function(){return a.setState({openMeal:null})}},"Back")),l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{className:"modalImage",src:e.image,alt:e.label})),l.a.createElement("h3",null,"Ingredients"),l.a.createElement("ul",null,e.ingredients.map(function(e){return l.a.createElement("li",{key:e},e.text)})),l.a.createElement("h3",null,"Instructions"),l.a.createElement("div",{className:"modalButtons"},l.a.createElement(b.a,{type:"primary",href:e.url,target:"_blank",rel:"noopener noreferrer"},"See Recipe")),l.a.createElement("p",null,e.instructions)):a.renderList()},a.renderList=function(){return l.a.createElement(O,{meals:a.props.schedule[a.props.currentDate.format("MMDDYY")],deleteMeal:a.deleteMeal,openMeal:a.openMeal})},a.state={newMeal:"",visible:!1,openMeal:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"scheduler"},l.a.createElement(b.a,{className:"getMeal",type:"primary"},l.a.createElement(w.a,{to:"/generate"},"Get A Meal")),l.a.createElement(b.a,{className:"getMeal",type:"primary",onClick:this.openModal},"View Details"),l.a.createElement(g.a,{onSelect:this.props.setDate,dateCellRender:this.dateCellRender,fullscreen:!this.props.broken}),l.a.createElement(E.a,{className:"mealModal",title:this.state.openMeal?this.state.openMeal.mealName:"",visible:this.state.visible,closable:!0,onOk:this.closeModal,onCancel:this.closeModal,footer:null},this.renderModal()))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).addTasksToStorage=function(){var e=a.state.tasks.filter(function(e){return!e.complete});window.localStorage.setItem("tasks",JSON.stringify(e))},a.toggleComplete=function(e){a.setState(function(t){return{tasks:t.tasks.map(function(t){return t.id===e&&(t.complete=!t.complete,a.addTasksToStorage()),t})}})},a.addTask=function(e){e.length>0&&a.setState(function(t){var n={id:t.tasks.length+1,description:e,complete:!1};return t.tasks.push(n),a.addTasksToStorage(),{tasks:t.tasks}})},a.state={tasks:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(null!==window.localStorage.getItem("tasks")){var t=JSON.parse(window.localStorage.getItem("tasks")),a=[];t.forEach(function(t){t.complete||a.push({id:t.id,description:t.description,complete:t.complete}),e.setState({tasks:a}),e.forceUpdate()})}}},{key:"render",value:function(){var e=this.state.tasks.filter(function(e){return!e.complete});return l.a.createElement("div",null,l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"container"},l.a.createElement("p",{className:"lead"}," Items in shopping cart: ",e.length),l.a.createElement(N,{howToToggle:this.toggleComplete,tasks:this.state.tasks}),l.a.createElement(D,{howToAdd:this.addTask,addTasksToStorage:this.addTaskToStorage}))))}}]),t}(n.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tasks.map(function(t){return l.a.createElement(M,{key:t.id,task:t,howToToggle:e.props.howToToggle})});return l.a.createElement("ol",null,t)}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(){a.props.howToToggle(a.props.task.id)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getClassName",value:function(){var e="groceryItem";return this.props.task.complete&&(e=" font-strike"),e}},{key:"render",value:function(){var e=this.props.task;return l.a.createElement("li",{className:this.getClassName(),key:this.props.taskkey,onClick:this.handleClick},e.description)}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;a.setState({newTask:t})},a.handleClick=function(e){e.preventDefault(),a.props.howToAdd(a.state.newTask),a.setState({newTask:""})},a.state={newTask:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("input",{className:"form-control mb-3",placeholder:"Add to Grocery List",value:this.state.newTask,onChange:this.handleChange}),l.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Add item to list"))}}]),t}(n.Component),T=S,R=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"col",id:"about-page"},l.a.createElement("div",null,l.a.createElement("h1",null,"About Main Course"),l.a.createElement("p",null,"The original idea here was to create an application that would somehow make the lives of students easier. As a student myself, I found that I was constantly eating out, because I was running out of ideas of what to make. As a result, I was spending more money than I wanted to on food. To solve this problem, we created Main Course. Main Course is a mobile-first web application that is a combination of two different apps aimed at making the cooking process simpler. The user simply inputs their meal preferences indicated by sliders, we generate a new list of recipes for them. They will then be allowed to add their meals to the calnedar interface, which can help them keep track of when they want to make their food. Additionally, there is a grocery list interface which helps them plans out the ingredients that they have to buy. The ida is pretty simple, and by adding filters based on nutritional goals, we believe that Main Course could be a perfect way that students can ",l.a.createElement("strong",null,"eat healthy and save money "),"in a more efficient manner.")),l.a.createElement("div",null,l.a.createElement("h2",null,"Some Limitations"),l.a.createElement("p",null,"The orginal goal here was to allow a budget to be part of the filters, and to provide an entire weeks worth of recipes. Additionally, the original wireframe contained a few more filters. Unfortunately, limitations of the API are preventing this currently. There is a great deal of rate limiting happening from the API, preventing the site from gathering all of the information it needs. Additionally, we wanted to show the actual recipe on the screen, but this is another limitation of the free version of this API.")),l.a.createElement("div",null,l.a.createElement("h2",null,"About The Development"),l.a.createElement("p",null,"We used LESS CSS extention in order to style the webpages, as it allowed us to create simple variables that control the look adn the feel of the site. Changing any of the variables at the top of the Less file should substantially change the look of the site. We built this web application with a mobile first approach, meaning all  of the default styles are also built for smaller devices, and it works on all mobile devices. That said, the CSS should scale nicely on a larger screen in a multi-column format."),l.a.createElement("p",null,"This web application was built using React JS, with multiple components that were rendered onto to the page. We had used a Basic Layout component to place and keep track of all the other components, which was then instantiated in the App component and displayed on the DOM. We included clien-side routing in this stage of the project in order to keep track of all the different web pages we had that were part of the entire application, and we utilized firebase servers in order to include the idea of having users, and would keep track of their data.")))}}]),t}(n.Component),A=a(493),x=p.a.Sider,I=p.a.Header,P=p.a.Content,Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onCollapse=function(e){a.setState({collapsed:e})},a.onBreakpoint=function(e){a.setState({broken:e})},a.aboutNav=function(){a.setState({nav:"about"})},a.homeNav=function(){a.setState({nav:"main"})},a.renderRoute=function(){return"about"===a.state.nav?l.a.createElement(A.a,{to:"/about"}):l.a.createElement(A.a,{to:"/"})},a.renderContent=function(){return"about"===a.props.content?l.a.createElement(R,{currentDate:a.props.currentDate,setDate:a.props.setDate,schedule:a.props.schedule,updateSchedule:a.props.updateSchedule}):l.a.createElement(j,{currentDate:a.props.currentDate,setDate:a.props.setDate,schedule:a.props.schedule,updateSchedule:a.props.updateSchedule,broken:a.state.broken})},a.state={collapsed:!1,broken:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.nav&&this.state.nav!=this.props.content?this.renderRoute():l.a.createElement(p.a,{className:"basicLayout"},l.a.createElement(x,{defaultCollapsed:!0,collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,breakpoint:"lg",className:"sider",width:this.state.broken?"100%":"20%",onBreakpoint:this.onBreakpoint},l.a.createElement("div",{onClick:this.homeNav,className:this.state.collapsed?"hidden":"pageTitle"},l.a.createElement("h1",{className:"title"},"Main Course")),l.a.createElement("div",{className:"sideButtons"},l.a.createElement(f.a,{placement:"right",content:l.a.createElement(T,null),trigger:"click",title:"My Grocery List"},l.a.createElement(b.a,{className:this.state.collapsed?"hidden":"groceryBtn",type:"primary"},l.a.createElement("span",null,"Grocery List"))),l.a.createElement(v.a,{placement:"right",title:"Are you sure you want to clear the schedule?",onConfirm:this.props.clearSchedule,okText:"Yes",cancelText:"No"},l.a.createElement(b.a,{className:this.state.collapsed?"hidden":"clearAll",type:"primary"},"Clear schedule")),l.a.createElement("div",null),l.a.createElement(b.a,{className:this.state.collapsed?"hidden":"clearAll",onClick:function(){"/about"===e.props.location.pathname?e.homeNav():e.aboutNav()},type:"primary"},"/about"===this.props.location.pathname?"Calendar":"About Us"),l.a.createElement(v.a,{placement:"right",title:"Are you sure you want to log out?",onConfirm:this.props.logOut,okText:"Yes",cancelText:"No"},l.a.createElement(b.a,{className:this.state.collapsed?"hidden":"clearAll",type:"primary"},"Log Out")))),l.a.createElement(p.a,{className:this.state.collapsed?"main main-grow":"main"},l.a.createElement(I,{className:"header"},l.a.createElement("h2",{className:"currentDay"},this.props.currentDate.format("MMMM Do, YYYY"))),l.a.createElement(P,{className:"mainContent"},this.renderContent())))}}]),t}(n.Component),B=a(211),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0!==a.props.isGroup},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.id,n=e.min,r=e.max,s=e.defaultValue,i=e.aria,c=e.inputChange,o=e.value,u=this.state.collapsed,d=u?" rotated":"";return l.a.createElement("div",null,t?l.a.createElement("h3",{className:"chevron"+d,onClick:this.collapse.bind(this)},t):null,u?null:l.a.createElement("div",null,l.a.createElement("label",{htmlFor:a},o,this.pluralize(o)),l.a.createElement("input",{"aria-label":null!=i?i:this.removeDash(a),type:"range",min:n,max:r,defaultValue:s,className:"slider",id:a,onChange:c})))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}},{key:"removeDash",value:function(e){return e.replace(/-/g," ")}},{key:"pluralize",value:function(e){var t=this.props,a=t.unit,n=t.shouldPlural;return e>1&&n?a+"s":a}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.masterUnits,a=e.sliderPropsArray,n=e.masterValue,r=e.title,s=this.state.collapsed,i=s?" rotated":"";return l.a.createElement("div",null,l.a.createElement("h3",{className:"chevron"+i,onClick:this.collapse.bind(this)},r),l.a.createElement("div",{className:s?"hidden":null},l.a.createElement("label",null,"(",n," ",t,")"),a.map(function(e,t){var a=e.id,n=e.unit,r=e.min,s=e.max,i=e.defaultValue,c=e.aria,o=e.value,u=e.inputChange;return l.a.createElement(L,{key:t,id:a,unit:n,min:r,max:s,defaultValue:i,aria:c,value:o,inputChange:u,isGroup:!0})})))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.checkBoxes,n=e.change,r=this.state.collapsed,s=r?" rotated":"";return l.a.createElement("div",null,l.a.createElement("h3",{className:"chevron"+s,onClick:this.collapse.bind(this)},t),l.a.createElement("div",{className:r?"hidden":null},a.map(function(e,t){var a=e.toLowerCase();return l.a.createElement("div",{className:"check-group",key:t},l.a.createElement("input",{type:"checkbox",id:a,defaultValue:a,onChange:n}),l.a.createElement("label",{htmlFor:a},e))})))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),V=a(485),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={meals:3,cookTime:15,carbs:206,protein:146,fat:67,restrictions:new Set},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.meals,a=e.cookTime,n=e.carbs,r=e.protein,s=e.fat;return l.a.createElement("section",{id:"filters"},l.a.createElement("div",{className:"pageTitle"},l.a.createElement(w.a,{to:"/"},l.a.createElement("h1",null,"Main Course"))),l.a.createElement(L,{className:"control-option",name:"Meals Per Day",id:"meals",unit:" Meal",min:"1",max:"7",defaultValue:"3",inputChange:this.inputChange.bind(this),value:t,shouldPlural:!0}),l.a.createElement(L,{className:"control-option",name:"Max Cook Time Per Meal",id:"cookTime",unit:" Minute",min:"5",max:"120",defaultValue:"15",inputChange:this.inputChange.bind(this),value:a,shouldPlural:!0}),l.a.createElement(U,{className:"control-option",masterUnits:"Calories",masterValue:this.calcCalories(),title:"Daily Macronutrients",sliderPropsArray:[{aria:"Carbohydrates Per Meal",id:"carbs",unit:"g carbs",min:"25",max:"400",defaultValue:"206",value:n,inputChange:this.inputChange.bind(this)},{aria:"Protein Per Meal",id:"protein",unit:"g protein",min:"25",max:"400",defaultValue:"146",value:r,inputChange:this.inputChange.bind(this)},{aria:"Fat Per Meal",id:"fat",unit:"g fat",min:"5",max:"200",defaultValue:"67",value:s,inputChange:this.inputChange.bind(this)}]}),l.a.createElement(F,{className:"control-option",checkBoxes:["vegan","vegetarian"],title:"Dietary Restrictions",change:this.addRestriction.bind(this)}),l.a.createElement("div",{className:"button-group"},l.a.createElement(V.a,{bsStyle:"primary",bsSize:"large",type:"button",onClick:this.generateRecipes.bind(this)},"Generate Recipes"),l.a.createElement(V.a,{bsStyle:"primary",bsSize:"large",type:"button",onClick:this.props.saveRecipe},"Save Recipes")))}},{key:"generateRecipes",value:function(){var e=this.state,t=e.meals,a=e.cookTime,n=e.carbs,l=e.protein,r=e.fat,s=e.restrictions;(0,this.props.fetchQueries)({numMeals:t,calories:this.calcCalories(),maxCookTime:a,carbs:n,protein:l,fat:r,restrictions:Array.from(s)})}},{key:"inputChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(B.a)({},a,n))}},{key:"addRestriction",value:function(e){var t=e.target.value;this.setState(function(e){var a=e.restrictions;return a.has(t)?a.delete(t):a.add(t),{restrictions:a}})}},{key:"calcCalories",value:function(){var e=this.state,t=e.fat,a=e.carbs,n=e.protein;return t*le.get("fat")+n*le.get("protein")+a*le.get("carbs")}}]),t}(n.Component),H=a(214),z=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.hidden,t=this.props.hit.recipe,a=t.totalNutrients,n=t.calories,r=this.props.hit.recipe.yield,s=Math.round(a.PROCNT.quantity),i=Math.round(a.CHOCDF.quantity),c=Math.round(a.FAT.quantity),o={datasets:[{data:[s*le.get("protein"),i*le.get("carbs"),c*le.get("fat")],backgroundColor:["red","green","blue"]}],labels:["Protein Cals","Carbs Cals","Fat Cals"]};return l.a.createElement("div",{className:e?"hidden":""},l.a.createElement("div",{className:"chart"},l.a.createElement(H.a,{data:o,options:{responsive:!0,maintainAspectRatio:!1}}),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("strong",null,"Servings:"),"\xa0",r),l.a.createElement("li",null,l.a.createElement("strong",null,"Calories:"),"\xa0",Math.round(n)),l.a.createElement("li",null,l.a.createElement("strong",null,"Protein:"),"\xa0",s+"g"),l.a.createElement("li",null,l.a.createElement("strong",null,"carbs:"),"\xa0",i+"g"),l.a.createElement("li",null,l.a.createElement("strong",null,"fat:"),"\xa0",c+"g"))))}}]),t}(n.Component),G=a(490),Q=a(486),J=a(487),q=a(488),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},0)}},{key:"render",value:function(){var e=this.props.hit,t=e.recipe,a=t.label,n=t.image,r=t.ingredientLines,s=t.url,i=t.source,c=this.state.loaded?" loaded":"";return l.a.createElement(G.a,{defaultExpanded:!1,className:"recipe"+c},l.a.createElement(G.a.Heading,null,l.a.createElement(G.a.Title,{toggle:!0},a),l.a.createElement("div",{role:"button",className:"del",onClick:this.del.bind(this)},"X")),l.a.createElement(G.a.Collapse,null,l.a.createElement(G.a.Body,null,l.a.createElement(Q.a,{fluid:!0},l.a.createElement(J.a,{className:"show-grid",id:"grid"},l.a.createElement(q.a,{xs:12,md:6},l.a.createElement("img",{src:n,alt:a})),l.a.createElement(q.a,{xs:12,md:6},l.a.createElement("div",{className:"pieContainer"},l.a.createElement(z,{hit:e})))))),l.a.createElement(G.a.Footer,null,l.a.createElement("h1",null,l.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},"Full Recipe From "+i)),l.a.createElement("ul",null,r.map(function(e,t){return l.a.createElement("li",{key:t},e)})))))}},{key:"del",value:function(){var e=this;this.setState({loaded:!1}),setTimeout(function(){e.props.deleteRecipe(),e.setState({loaded:!0})},1e3)}}]),t}(n.Component),K=a(156),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!1,loaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},0)}},{key:"render",value:function(){var e=this.props.hits,t=[];e.forEach(function(e){t=Object(K.a)(t).concat(Object(K.a)(e.recipe.ingredientLines))});var a=this.state,n=a.collapsed,r=a.loaded?" loaded":"";return l.a.createElement(G.a,{id:"collapsible-panel-example-2",defaultExpanded:!1,className:"recipe"+r},l.a.createElement(G.a.Heading,null,l.a.createElement(G.a.Title,{toggle:!0},"Shopping List")),l.a.createElement(G.a.Collapse,null,l.a.createElement(G.a.Body,null,l.a.createElement("ul",{className:n?"hidden":null},t.map(function(e,t){return l.a.createElement("li",{key:t},e)})))))}},{key:"collapse",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}}]),t}(n.Component),Z=a(88),$=a.n(Z),ee=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hits,a=e.deleteRecipe,n=e.loading,r=0!==t.length;return l.a.createElement("section",{id:"recipes"},l.a.createElement("h1",null,"Your Custom Meal Plan"),l.a.createElement("div",{id:"plan-container",className:r?null:"hidden"},n?l.a.createElement("div",null,l.a.createElement($.a,{id:"loading",type:"spin",color:"Black",height:150,width:150}),l.a.createElement("div",{class:"push"}),l.a.createElement("div",{class:"push"})):l.a.createElement("div",null,l.a.createElement(X,{hits:t}),t.map(function(e,t){return l.a.createElement(_,{hit:e,key:t,deleteRecipe:function(){return a(t)}})}))),l.a.createElement("p",{id:"plan-placeholder",className:r?"hidden":null},n?l.a.createElement($.a,{id:"loading",type:"spin",color:"Black",height:150,width:150}):l.a.createElement("p",null,"Meal plan will appear here once it is created!"),l.a.createElement("div",{class:"push"}),l.a.createElement("div",{class:"push"})))}}]),t}(n.Component),te=p.a.Header,ae=p.a.Content,ne=p.a.Sider,le=new Map([["carbs",4],["fat",9],["protein",4]]),re=.2,se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSave=function(){var e=a.state.hits.map(function(e){return e.recipe});a.props.saveRecipe(e),a.setState({saved:!0})},a.state={extraRecipes:[],loading:!1,hits:[],saved:!1,width:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions.bind(this))}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.state,t=e.hits,a=e.loading,n=e.width;return this.state.saved?l.a.createElement(A.a,{to:"/"}):l.a.createElement("div",null,n>992?l.a.createElement(p.a,{className:"basicLayout"},l.a.createElement(ne,{breakpoint:"lg",className:"sider",width:"20%"},l.a.createElement(W,{fetchQueries:this.fetchQueries.bind(this),saveRecipe:this.handleSave})),l.a.createElement(p.a,{className:this.state.collapsed?"main main-grow":"main"},l.a.createElement(te,{className:"header"},l.a.createElement("h2",{className:"currentDay"},this.props.currentDate.format("MMMM Do, YYYY"))),l.a.createElement(ae,{className:"mainContent"},l.a.createElement(ee,{hits:t,deleteRecipe:this.deleteRecipe.bind(this),loading:a})))):l.a.createElement(p.a,{className:"basicLayout",id:"fullbg"},l.a.createElement(te,{className:"header"},l.a.createElement("h2",{className:"currentDay"},this.props.currentDate.format("MMMM Do, YYYY"))),l.a.createElement(ae,{className:"mainContent"},l.a.createElement(W,{fetchQueries:this.fetchQueries.bind(this),saveRecipe:this.handleSave}),l.a.createElement(ee,{hits:t,deleteRecipe:this.deleteRecipe.bind(this),loading:a}))))}},{key:"fetchQueries",value:function(e){var t=this;this.setState({loading:!0}),fetch(this.getAPIQuery(e)).then(ce).then(function(a){return t.parseRecipes(a,e)}).catch(console.log)}},{key:"getAPIQuery",value:function(e){var t=e.numMeals,a=e.maxCookTime,n=e.carbs,l=e.protein,r=e.fat,s=e.restrictions,i="".concat("https://api.edamam.com/search?app_id=4fba7f21&app_key=015209fd4e63d9db67f22a621a26ea4a","&q=").concat("","&to=").concat(100,"&time=").concat(a)+"&nutrients%5BCHOCDF%5D=".concat(ie(n/t),"&nutrients%5BFAT%5D=")+"".concat(ie(r/t),"&nutrients%5BPROCNT%5D=").concat(ie(l/t));return s.length>0&&(i+="&health=".concat(s[0])),i}},{key:"parseRecipes",value:function(e,t){var a=e.hits,n=t.numMeals,l=t.restrictions;a=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}return e}(a),l.length>1&&(a=a.filter(function(e){var t=e.recipe.healthLabels,a=!0,n=!1,r=void 0;try{for(var s,i=l[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var c=s.value;if(!t.includes(c))return!1}}catch(o){n=!0,r=o}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return!0})),this.showRecipes(a,n)}},{key:"showRecipes",value:function(e,t){this.setState({extraRecipes:e.slice(t),hits:e.slice(0,t),loading:!1})}},{key:"deleteRecipe",value:function(e){this.setState(function(t){var a=t.extraRecipes,n=t.hits;return n[e]=a.pop(),{extraRecipes:a,hits:n}})}}]),t}(n.Component);function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;e=parseInt(e);var a=Math.round(e*t),n=e+a;return"".concat(e-a,"-").concat(n)}function ce(e){return e.status>=200&&e.status<300||0===e.status?e.json():Promise.reject(new Error(e.status+": "+e.statusText))}var oe=a(28),ue=a.n(oe),de=a(35),me=a.n(de),he=a(496),pe=a(497),fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).addMeal=function(e){!function e(t){"object"===typeof t&&null!==t&&Object.keys(t).forEach(function(a){a.includes(".")?delete t[a]:e(t[a])})}(e);var t=a.state.currentDate.format("MMDDYY"),n=me.a.database().ref("schedules").child(a.state.user.uid),l={};l[t]=e,n.update(l).catch(function(e){console.log("Synchronization failed")})},a.clearSchedule=function(){me.a.database().ref("schedules").child(a.state.user.uid).remove()},a.setCurrentDate=function(e){a.setState({currentDate:e})},a.handleSignUp=function(e,t){a.setState({errorMessage:null}),e||t?e?t?me.a.auth().createUserWithEmailAndPassword(e,t).catch(a.error.bind(Object(m.a)(Object(m.a)(a)))):a.error({message:"Please provide a password."}):a.error({message:"Please provide an email."}):a.error({message:"Please provide an email and password"})},a.handleSignIn=function(e,t){a.setState({errorMessage:null}),me.a.auth().signInWithEmailAndPassword(e,t).then(function(e){a.setState({user:e,errorMessage:null})}).catch(a.error.bind(Object(m.a)(Object(m.a)(a))))},a.handleSignOut=function(){me.a.auth().signOut().then(function(){a.setState({user:null,errorMessage:null})}).catch(console.log)},a.renderHome=function(e){return l.a.createElement(Y,Object.assign({},e,{currentDate:a.state.currentDate,setDate:a.setCurrentDate,schedule:a.state.schedule,clearSchedule:a.clearSchedule,logOut:a.handleSignOut,user:a.state.user,content:"main"}))},a.renderAbout=function(e){return l.a.createElement(Y,Object.assign({},e,{currentDate:a.state.currentDate,setDate:a.setCurrentDate,clearSchedule:a.clearSchedule,logOut:a.handleSignOut,user:a.state.user,content:"about"}))},a.renderGenerator=function(e){return l.a.createElement(se,Object.assign({},e,{currentDate:a.state.currentDate,setDate:a.setCurrentDate,schedule:a.state.schedule,saveRecipe:a.addMeal}))},a.state={loading:!0,user:null,currentDate:ue()(),schedule:{},errorMessage:null,content:"main"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(t){e.state.user&&t.child(e.state.user.uid).val()?e.setState({schedule:t.child(e.state.user.uid).val()}):e.setState({schedule:{}})};this.authUnRegFunc=me.a.auth().onAuthStateChanged(function(a){e.setState({loading:!1,schedule:{}}),a&&e.setState({user:a}),me.a.database().ref("schedules").once("value",t)}),me.a.database().ref("schedules").on("value",t)}},{key:"componentWillUnmount",value:function(){this.authUnRegFunc()}},{key:"error",value:function(e){this.setState({errorMessage:e.message})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.user,n=e.errorMessage,r=null!=n?l.a.createElement("p",{className:"alert alert-danger"},n):null;return t?l.a.createElement("div",{className:"loading-screen"},l.a.createElement($.a,{id:"loading",type:"spin",color:"Black",height:150,width:150}),l.a.createElement("div",{className:"push"}),l.a.createElement("div",{className:"push"})):a?l.a.createElement(he.a,null,l.a.createElement(pe.a,{path:"/",exact:!0,render:this.renderHome}),l.a.createElement(pe.a,{path:"/generate",render:this.renderGenerator}),l.a.createElement(pe.a,{path:"/about",component:this.renderAbout}),l.a.createElement(A.a,{to:"/"})):l.a.createElement("div",null,l.a.createElement("h1",{className:"signUpHeader"},"Welcome to Main Course"),l.a.createElement("div",{className:"container"},r,l.a.createElement("h2",null,"Sign Up / Sign In"),l.a.createElement(h,{signUpCallback:this.handleSignUp,signInCallback:this.handleSignIn})))}}]),t}(n.Component),be=(a(473),a(475),a(495));me.a.initializeApp({apiKey:"AIzaSyBqeA3VRwMC0S9hUSknkvm9bwHHVvzRSek",authDomain:"meal-time-deea8.firebaseapp.com",databaseURL:"https://meal-time-deea8.firebaseio.com",projectId:"meal-time-deea8",storageBucket:"meal-time-deea8.appspot.com",messagingSenderId:"374370065536"}),s.a.render(l.a.createElement(be.a,null,l.a.createElement(fe,null)),document.getElementById("root"))},92:function(e,t,a){},93:function(e,t,a){}},[[220,2,1]]]);
//# sourceMappingURL=main.10880145.chunk.js.map